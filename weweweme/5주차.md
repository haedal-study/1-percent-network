# Chapter 3 : 케이블의 앞은 LAN 기기였다 - 허브와 스위치, 라우터의 탐험

## 3.1. 케이블과 리피터, 허브 속을 신호가 흘러간다


### 3.1.1. 하나하나의 패킷이 독립된 것으로 동작한다
- 컴퓨터에서 송신된 패킷은 허브나 라우터 같은 중계 장치를 통해 목적지로 전달된다.
    - 허브는 연결된 모든 포트로 들어온 신호를 브로드캐스트한다. 
    - 라우터는 패킷의 헤더 정보를 분석하여 적절한 경로로 패킷을 전달한다.
- 일반적으로 애플리케이션 데이터나 TCP 프로토콜의 제어 정보는 패킷이 어떻게 전달될지에 대한 영향을 미치지 않는다.
    - 이는 중계 장치들이 대부분 패킷의 헤더 정보만을 사용해 라우팅 결정을 하기 때문이다.
- 특별한 설정이나 애플리케이션에서 패킷의 내용을 검사하여 라우팅을 결정하는 경우도 있다.
    - DPI(Deep Packet Inspection) : 일부 고급 라우터나 방화벽 장비에서는 패킷의 내용까지 검사하여 특정 데이터(악성 코드 등)가 포함되어 있는지 판단할 수 있다.
    - Application-Level Gateway : 애플리케이션 레벨에서 패킷을 분석하여 라우팅을 결정하는 경우도 있다.
    - Load Balancing based on Application Data : 애플리케이션 데이터를 기반으로 로드를 분산하기 위한 목적으로 패킷의 내용을 분석할 수 있다.
    - Custom Routing Protocols : 특수한 목적을 위해 개발된 라우팅 프로토콜에서는 패킷의 데이터 부분을 참조할 수 있다.


### 3.1.2. LAN 케이블은 신호를 약화시키지 않는 것이 핵심이다

![RJ-45 커넥터](https://m.media-amazon.com/images/I/71P9Otxc5fL.jpg)
![트위스티드 페어 케이블](https://datasave.qsfptek.com/resources/image/2022-09-01477398.jpg)

- LAN 어댑터의 PHY 회로에서 전기 신호로 변환된 패킷은 RJ-45 커넥터를 통해 트위스트 페어 케이블에 들어간다.
    - RJ-45는 "Registered Jack 45"의 약자로, 네트워크 케이블의 끝에 연결되는 표준 형태의 플라스틱 커넥터이다.
    - 트위스트 페어 케이블 디자인은 신호의 잡음과 간섭을 최소화한다.
- 이더넷의 신호는 플러스와 마이너스의 전압으로 구성되며, LAN 어댑터 회로의 플러스와 마이너스 신호 단자에서 신호가 발생한다.
    - 이더넷의 "신호"는 주로 이더넷 프레임을 전기 신호로 변환한 것을 의미한다.
- 송출한 신호는 허브나 리피터에 도착하기 전에 약해진다.
    - 거리가 길어질수록 신호 약화는 더욱 발생한다.
- 신호 약화를 보정하기 위해 리피터나 허브를 사용할 수 있다.
- 신호가 도착하면, 잡음이 없더라도 약간의 변형이 발생한다.
    - 잡음이 추가되면 변형은 더욱 심해진다.
- 변형이 심해지면 0과 1을 잘못 판독할 수 있어, 통신 오류가 발생할 수 있다.
    - Error Detection과 Correction 메커니즘을 통해 이러한 문제를 어느 정도 해결할 수 있다.
    - Error Detection : 데이터 통신 중에 발생할 수 있는 오류를 감지하는 기능이다. 
        - [CRC(Cyclic Redundancy Check)](https://ko.wikipedia.org/wiki/%EC%88%9C%ED%99%98_%EC%A4%91%EB%B3%B5_%EA%B2%80%EC%82%AC)나 체크섬 등의 알고리즘을 사용해서 오류가 발생했는지 확인할 수 있다.
    - Error Correction : 단순히 오류를 감지하는 것을 넘어, 오류를 정정하는 기능이다. 
        - [FEC(Forward Error Correction)](http://www.ktword.co.kr/test/view/view.php?m_temp1=693) 같은 알고리즘이 이에 사용된다.

#### 리피터
- 리피터는 네트워크 신호를 증폭하여 전송 거리를 연장하는 장치다.
- 특히 이더넷 네트워크에서 자주 사용되며, LAN 케이블을 통해 전송되는 신호의 약화를 보정한다.
- 리피터에 도착한 신호는 증폭되어 다른 포트로 재전송된다.
- MAC 주소를 통해 패킷을 수신해야 하는 기기를 식별하며, 패킷을 모든 포트로 브로드캐스트한다.
- 이 장치는 데이터의 충돌이나 기타 문제를 해결하지 않으며, 단순히 신호만 증폭한다.


### 3.1.3. '꼼'은 잡음을 방지하기 위한 방법이다

#### 트위스트 페어 케이블의 특성
- 트위스트 페어 케이블은 잡음 억제에 특화된 구조를 가지고 있다.
- 트위스트라는 이름은 두 가닥의 신호선을 마주 꼬아 놓았기 때문에 붙여진 이름이다.

#### 잡음의 원인과 종류
- 잡음은 주로 케이블 주변의 전자파에서 발생한다.
- 전자파와 도전체의 상호작용으로 유도 전류가 발생해 잡음을 일으킨다.
    - 유도 전류는 변화하는 자기장이 전자를 움직여 전류를 발생시키는 현상이다. 
    - 즉, 자기장의 변화가 도전체에 전류를 "유도"하는 것이다.
- 잡음은 크게 두 가지로 분류할 수 있는데 케이블 외부에서와 내부에서 발생하는 잡음이다.

#### 외부 잡음의 억제
- 외부에서 발생하는 잡음은 모터나 형광등, CRT 모니터 등에서 누설되는 전자파다.
- 신호선을 꼬으면 유도 전류의 방향이 반대가 돼서 이런 잡음을 줄일 수 있다.
    - 한 선에서 발생하는 유도 전류가 다른 선에서는 반대 방향으로 발생한다. 따라서 두 전류가 서로 상쇄되어 잡음을 줄일 수 있다.

#### 내부 잡음과 크로스토크

![크로스토크](http://www.internex.co.kr/design/upload_file/editor/internex/1.JPG)

- 내부 잡음은 주로 신호선에서 전류가 흐를 때 발생하는 전자파 때문이다.
- 이런 현상을 크로스토크라고 하며, 한 신호선의 신호가 인접한 신호선에 미치는 영향을 말한다.
    - 발생한 전자파가 인접한 신호선에 도달하기 전에 충분히 약해지지 않아 접촉하면 영향을 주기 때문에 문제가 발생한다.

#### 추가 대책과 케이블의 분류
- 꼬는 간격을 다르게 해서 잡음의 영향을 줄일 수 있다.
    - 간격을 다르게 꼬으면 각 신호선에서 유도되는 전류의 패턴도 달라진다. 이로 인해 다양한 유형의 잡음을 효과적으로 상쇄시킬 수 있다.
- 추가로 신호선 사이에 구분판을 넣거나, 실드로 신호선을 감싸는 등의 대책이 있다.
    - 이런 추가적인 물리적 장벽이 외부에서 들어오는 잡음을 줄여준다.
- 다양한 대책으로 인해 성능이 다른 트위스트 페어 케이블이 시장에 판매되며, 카테고리로 성능을 구분한다.
    - 이들은 주로 전송 속도나 대역폭, 잡음 저항성 등에 차이를 보인다.

#### 카테고리
| 카테고리    | 전송 대역 (MHz) | 최고 통신 속도 (이론치) |
|-------------|-----------------|------------------------|
| CAT5        | 100             | 100BASE-TX (100Mbps)    |
| CAT5e       | 100             | 1000BASE-T (1Gbps)      |
| CAT6        | 250             | 1000BASE-TX (1Gbps)     |
| CAT6A       | 500             | 10GBASE-T (10Gbps)      |
| CAT7        | 600             | 10GBASE-T (10Gbps)      |
| CAT8        | 2000            | 40GBASE-T (40Gbps)      |

- 전송 대역 : 최고 주파수와 최저 주파수의 차이다. 이 폭이 넓을수록 단위시간에 전송되는 정보량이 많아진다.
- 카테고리 선택 : 통신 속도에 불만이 있다면, 더 높은 카테고리의 LAN 케이블로 교체하여 개선할 수 있다.
- CAT8
    - 노이즈의 영향을 최소화하고 초고속 인터넷 통신을 가능하게 한다. 하지만 현재는 그 속도를 지원하는 하드웨어가 제한적이다.
    - 차세대 통신 환경을 대비한 규격으로, 현재는 속도에 견딜 수 있는 모뎀이나 라우터, 단말이 거의 존재하지 않는다.


### 3.1.4. 리피터 허브는 연결되어 있는 전체 케이블에 신호를 송신한다

#### 리피터 허브와 이더넷의 기본 원리
- 신호가 리피터 허브에 도달하면, LAN 전체에 신호가 증폭되어 전송된다.
- 리피터 허브는 패킷의 신호를 이더넷 네트워크 내의 모든 기기에 전송한다. 그 중에서 MAC 주소가 일치하는 기기만 해당 패킷을 수신한다.

#### 커넥터와 PHY 회로
- 각 커넥터의 안쪽에는 LAN 어댑터의 내부에 있는 PHY 회로와 유사한 회로가 있다.
- 송신 단자에서 보낸 신호는 수신 단자에서만 받는다.
    - 이는 PHY 회로의 디자인이 양방향 통신을 위해 별도의 송신과 수신 경로를 설정하기 때문이다.
    - 네트워크 어댑터나 허브, 스위치 등에서의 통신은 전용 송신 단자(TX)와 전용 수신 단자(RX)를 통해 이루어진다.
    - 전용 수신 단자는 송신 단자에서 오는 신호만을 처리하도록 구성되어 있어, 다른 단자에서 오는 신호는 무시한다.

#### MDI/MDI-X와 커넥터 설정
- 리피터 허브의 끝에는 MDI/MDI-X라는 전환 스위치가 있다.
    - MDI(Media Dependent Interface) : RJ-45 커넥터와 송수신 회로를 직접 결선한 것으로, 일반적으로 네트워크 어댑터, 스위치, 라우터 등에서 사용된다.
        - MDI는 **스트레이트 케이블** 을 사용해 연결될 수 있다.
        - 스트레이트 케이블은 네트워크 케이블의 한 끝과 다른 끝이 동일한 방식으로 배선된 케이블을 말한다.
    - MDI-X(Media Dependent Interface with Crossover) : MDI의 역방향으로, 송신과 수신 선이 교차된 형태이다.
        - 이는 허브나 스위치에서 보통 사용되며, 이를 이용해 같은 종류의 디바이스를 연결할 수 있다.
- 허브의 커넥터 부분은 주로 MDI-X로 설정되어 있어, 허브끼리 접속할 때는 한쪽을 MDI로 설정해야 한다.
    - 이렇게 함으로써, 두 허브의 송신과 수신 선이 정확하게 맞물린다.
- 모든 커넥터가 MDI-X인 경우에는 "크로스 케이블"을 사용해 허브들을 연결한다.

#### 크로스 케이블과 LAN 어댑터

![스트레이트 케이블과 크로스 케이블](https://www.chinacablesbuy.com/wp-content/uploads/2016/09/straight-through-and-crossover-cable.jpg)

- 크로스 케이블은 네트워크 케이블의 한 끝과 다른 끝의 송수신 선이 교차되어 있는 케이블이다.
    - 이러한 구성은 같은 종류의 네트워크 디바이스(두 개의 네트워크 어댑터 또는 두 개의 스위치)를 직접 연결할 때 사용한다.
    - 표준 네트워크 케이블은 **스트레이트 케이블** 이라고 하며, 이와 달리 크로스 케이블은 송신과 수신 단자가 서로 바뀌어 있다.
- LAN 어댑터는 허브에만 접속하는 것이 아니다. LAN 어댑터끼리도 연결 가능하다.
    - LAN 어댑터끼리 연결할 때는 주로 크로스 케이블을 사용한다.
    - 이렇게 하면, 한 어댑터의 송신 단자와 다른 어댑터의 수신 단자가 정확히 연결되어, 데이타 통신이 가능해진다.

#### 신호의 증폭과 전송
- 리피터 허브에서 수신한 신호는 리피터 회로를 거친다. 
    - 리피터 회로는 신호의 증폭 및 전송을 담당한다.
- 증폭된 신호는 연결된 모든 포트로 브로드캐스트되어, 리피터 허브에 연결된 모든 기기에 도달한다.

#### 패킷의 처리와 재전송
- 수신한 기기는 MAC 헤더를 조사하여 자신이 수신처에 해당되면 신호를 수신하고, 그렇지 않으면 무시한다.
- 신호가 잡음으로 인해 변형될 경우, 이는 데이터 링크 계층에서 FCS 검사를 통해 판별되며, 변형된 패킷은 폐기된다.
- 패킷이 폐기되면, 주로 전송 계층에서 TCP 프로토콜의 재전송 메커니즘을 통해 패킷이 다시 전송된다.


## 3.2. 스위칭 허브의 패킷 중계 동작


### 3.2.1. 스위칭 허브는 주소 테이블로 중계한다

#### 패킷의 수신 및 변환
- 스위칭 허브는 이더넷의 패킷을 효과적으로 목적지를 향해 중계하도록 설계되었다.
- 패킷이 스위칭 허브의 커넥터 부분에 도착하면, PHY 회로에서 수신된다. 이 부분은 리피터 허브와 유사하다.
- PHY 회로는 케이블의 신호를 공통의 신호 형식으로 변환하며, 이 변환된 신호는 MAC 회로로 전송된다.

#### 오류 검사 및 버퍼 저장
- MAC 회로에서 신호는 디지털 데이터로 변환되며, 패킷의 FCS를 검사하여 오류를 확인한다. 오류가 없는 패킷만 버퍼 메모리에 저장된다.

#### 스위칭 허브 포트의 특성
- 스위칭 허브 내의 각 포트는, 기능적으로 보면, PC의 LAN 어댑터와 유사하다고 볼 수 있다.
- 그러나 스위칭 허브의 포트는 수신된 모든 패킷을 버퍼 메모리에 저장한다는 점에서 LAN 어댑터와 차이가 있다. 이 때문에 스위칭 허브 포트에는 특정 MAC 주소가 할당되어 있지 않다.

#### 패킷의 중계
- 패킷이 버퍼 메모리에 저장된 후, 해당 패킷의 수신처 MAC 주소와 일치하는 주소가 MAC 주소표에 등록되어 있는지 확인된다.
- MAC 주소표에는 각 기기의 MAC 주소와 해당 기기가 연결된 포트에 대한 정보가 저장되어 있다.
- 주소표를 기반으로, 패킷을 어느 포트로 전송해야 할지 결정된다.

#### 스위치 회로의 동작
- 패킷은 전자 회로로 구성된 스위치 회로를 통해 송신될 포트로 전송된다. 스위치 회로 내부에는 격자 모양의 신호선과 교점에 위치한 전자적 스위치가 있다.
- 이 전자적 스위치는 개폐를 통해 신호의 흐름을 제어하며, 독립적인 동작으로 인해 복수의 패킷 신호를 동시에 처리할 수 있다.

#### 패킷의 송신
- 패킷이 해당 포트로 중계될 때, MAC 및 PHY 회로는 패킷을 신호로 변환하여 케이블로 송신한다.
- 스위칭 환경에서는 각 포트가 독립적인 충돌 도메인을 형성하므로, 이더넷의 초기 규칙과는 달리 패킷 충돌에 대해 걱정할 필요가 적다.


### 3.2.2. MAC 주소 테이블을 등록 및 갱신한다
- 스위칭 허브는 패킷을 중계할 때 MAC 주소 테이블의 내용을 동적으로 갱신한다.

#### MAC 주소표의 갱신 동작
- 패킷 수신 시 송신처 MAC 주소를 확인하고, 해당 정보와 수신 포트 번호를 MAC 주소표에 등록한다.
- 패킷을 수신할 때마다 이 동작이 반복되므로, MAC 주소는 지속적으로 MAC 주소표에 등록된다.
    - 스위치가 패킷을 계속 수신할 때마다 해당 패킷의 송신처 MAC 주소를 확인하고, 그 주소가 MAC 주소 테이블에 없으면 테이블에 새로운 엔트리로 추가한다는 의미이다. 
    - 주소가 이미 테이블에 있다면, 스위치는 해당 주소의 타임스탬프를 갱신하여 그 주소가 최근에 활동했음을 표시한다.

#### 기기의 이동 및 MAC 주소표의 갱신
- 기기의 이동 시 스위칭 허브 입장에서는 해당 기기의 연결이 끊긴 것으로 인식된다.
- 패킷의 송수신이 일정 시간 동안 발생하지 않으면 Aging Timer에 의해 해당 MAC 주소 정보가 MAC 주소표에서 삭제된다.
    - Aging Timer는 MAC 주소 테이블에 등록된 주소가 얼마나 오랫동안 활동하지 않았는지를 추적하는 타이머다. 
- Aging Timer의 삭제 대기 시간은 스위치 설정에 따라 다르며, 일반적으로 몇 분 정도일 수 있다.
- 기기를 이동하더라도 스위칭 허브는 자동으로 적절한 동작을 수행하므로 MAC 주소를 수동으로 등록하거나 삭제할 필요는 없다.
    - 기기가 다른 포트로 연결되면, 그 포트에서 발생하는 패킷들을 기반으로 스위치는 MAC 주소 테이블을 자동으로 갱신하게 된다. 

#### MAC 주소표의 문제 상황
- MAC 주소표에 문제가 발생한 경우, 스위칭 허브를 리셋하여 테이블을 초기화할 수 있다. 이후 MAC 주소는 다시 자동으로 등록된다.
- 그러나 실제 환경에서 리셋은 큰 영향을 줄 수 있으므로 최후의 선택으로 해야한다.
> 실제 환경에서 스위칭 허브를 리셋하면 다음과 같은 문제나 영향이 발생할 수 있다.
> - 통신 중단 : 리셋 동작은 잠시 동안 모든 포트에 대한 네트워크 통신을 중단시킨다. 이로 인해 진행 중인 데이터 전송이 중단되고, 네트워크 기반의 애플리케이션 또는 서비스가 일시적으로 사용할 수 없게 될 수 있다.

> - MAC 주소 테이블 초기화 : 스위칭 허브의 리셋은 MAC 주소 테이블의 모든 항목을 삭제한다. 이후, 스위치는 다시 패킷을 수신하면서 테이블을 재구성해야 하므로, 일정 시간 동안은 최적의 스위칭 성능을 보장할 수 없다.

> - 로그 또는 설정 손실 : 스위치에 로깅 기능이 있다면, 리셋으로 인해 최근의 로그 정보가 손실될 수 있다. 또한, 일부 스위치는 일시적인 설정 변경 사항이 메모리에만 저장되며 리셋 시에 이러한 변경사항이 손실될 수 있다.

> - 시간 문제 : 많은 스위치들은 부팅 시간이 필요하므로, 리셋 후 네트워크가 완전히 정상 작동하기까지 약간의 시간이 소요될 수 있다.

> - 네트워크 불안정 : 초기화 후, 스위치가 다시 MAC 주소를 학습하기 시작하면, 일시적으로 네트워크 트래픽의 불규칙한 패턴이나 불안정이 발생할 수 있다.

> - 보안 문제 : 특정 보안 설정이 리셋에 의해 잠시적으로 비활성화되거나, 리셋 후의 초기 구성 상태에서 보안 취약점이 노출될 수 있다.


### 3.2.3. 예외적인 동작
- 스위칭 허브는 대부분의 경우에는 일관된 동작을 보이지만, 특정 상황에서는 예외적인 동작을 수행한다.

#### 리피터 허브와의 상호작용
- 리피터 허브와 스위칭 허브가 함께 사용될 때, 리피터 허브는 패킷을 모든 포트로 브로드캐스트한다. 
    - 이로 인해 동일한 패킷이 스위칭 허브에 여러 번 도착할 수 있다.
- 스위칭 허브는 패킷을 수신한 포트와 동일한 포트로 패킷을 중계하지 않는다. 
    - 동일한 패킷이 리피터 허브로부터 다시 도착하면, 스위칭 허브는 이를 중계하지 않고 폐기한다.

#### MAC 주소표에 등록되지 않은 주소
- 스위칭 허브가 MAC 주소표에 등록되지 않은 주소의 패킷을 수신하면, 해당 패킷을 '플러딩'하여 모든 포트로 전송한다.
    - 이는 스위치가 해당 주소의 포트 위치를 알 수 없거나, MAC 주소표의 TTL (Time To Live) 값이 만료되어 해당 주소가 만료된 경우에 발생한다.
    - 이 방식은 네트워크 내 어딘가에 수신처 MAC 주소의 기기가 존재할 것이라는 가정 하에 동작한다.

#### 플러딩 (Flooding)
- 플러딩은 스위치나 라우터가 수신한 패킷의 정확한 목적지를 알 수 없을 때, 해당 패킷을 모든 출력 포트로 전송하는 동작을 의미한다.
    - 이는 네트워크 내의 모든 장치에 패킷을 빠르게 전파하기 위한 방법으로 사용된다.
- 예를 들어, 스위칭 허브는 MAC 주소표에 등록되지 않은 주소의 패킷을 수신하면 플러딩 동작을 수행하여 해당 패킷을 모든 포트로 전송한다.
- 이 동작은 효율적인 패킷 전달을 위해 임시로 수행되며, 적절한 응답이 수신되면 해당 주소는 MAC 주소표에 등록되어 후속 패킷은 특정 포트로만 전송될 수 있다.

#### 브로드캐스트 패킷
- 수신처 MAC 주소가 브로드캐스트 주소인 패킷은 스위칭 허브에 의해 모든 포트로 전송된다.

#### 네트워크 혼잡도
- 스위치의 지속적인 플러딩 동작은 일시적인 네트워크 혼잡을 초래할 수 있지만, 대부분의 현대 네트워크 환경에서는 큰 문제로 볼 수 없다.
    - 그러나 크기가 큰 네트워크에서는 이러한 플러딩 동작이 네트워크 성능 저하의 원인이 될 수 있다.
- 스위칭 허브는 응답 패킷을 통해 MAC 주소표를 갱신하므로, 후속의 통신에서는 네트워크 전체에 패킷을 플러딩하는 상황이 줄어든다.



### 3.2.4. 전이중 모드에서 송신과 수신을 동시에 실행한다

#### 스위칭 허브의 특징
- 전이중 모드, 즉 송신과 수신을 동시에 실행할 수 있는 성질은 리피터 허브가 가지지 않는 스위칭 허브의 특징이다.

#### 충돌 현상과 리피터 허브
- 리피터 허브를 사용하는 경우, 여러 대의 컴퓨터가 동시에 송신 동작을 개시하면 리피터 허브의 내부에서 신호가 뒤섞여 신호가 파괴된다.
    - 이것은 **충돌** 이라는 현상이다.
- 트위스트 페어 케이블의 신호선은 송신용과 수신용으로 나뉘어져 있어서, 케이블 내에서는 신호의 충돌이 발생하지 않는다.
    - 그러나 리피터 허브를 사용하면 네트워크 내의 모든 장치가 하나의 충돌 도메인 내에 있기 때문에 충돌의 가능성이 크다.

#### 스위칭 허브와 충돌 회피
- 스위칭 허브를 사용하면 이러한 충돌 현상이 발생하지 않게 된다. 
- 케이블이 연결된 대상, 즉 스위칭 허브의 포트 부분이나 LAN 어댑터에 있는 PHY 회로와 MAC 회로의 내부도 송신과 수신이 나뉘어져 있어서 신호가 따로 흐르기 때문에 충돌하지 않는다.

#### 전이중 모드
- 이더넷의 규칙은 초기에는 신호가 흐르는 동안 다른 장비가 송신을 시작하지 않도록 되어 있었다. 
- 그러나 이후 규칙을 개정하여 신호가 흐르고 있어도 다른 장비의 송신 동작을 허용하는 전이중 모드가 도입되었다.
- 전이중 모드에서는 충돌을 검출하는 회로가 무효화되므로, 반이중 모드보다 빠른 통신 속도를 제공한다. 
- 충돌이 발생하지 않기 때문에 반이중 모드의 충돌 방지 대책을 마련할 필요가 없다. 
    - 이는 송신과 수신을 동시에 실행하게 되므로 데이터 전송의 효율성이 향상된다.
- 양방향으로 동시에 송신할 수 있어서 데이터의 송신 상한선도 높아져 성능이 향상된다.


### 3.2.5. 최적의 전송 속도로 보내는 자동 조정

#### 자동 조정의 필요성
- 전이중 모드의 등장과 함께 기기 간의 동작 모드를 자동으로 전환할 필요성이 대두되었다.
- 초기에는 수동으로 동작 모드를 설정해야 했지만, 이는 사용자에게 불편을 주었다.

#### 자동 조정(auto negotiation)
- 동작 모드와 전송 속도를 자동으로 조정하는 기능이 개발되었다.
- **자동 조정(auto negotiation)** 은 상대 기기의 지원 가능한 동작 모드와 전송 속도를 자동으로 감지하고 최적의 설정을 선택하는 역할을 한다.

#### 링크 펄스
- 이더넷은 데이터 전송이 없을 때 링크 펄스라는 특별한 신호를 전송하여, 연결 상태와 기기의 정상 작동 여부를 확인한다.
- 링크 펄스는 이더넷 연결의 물리적인 상태와 연결된 장치의 동작 상태를 감지하기 위해 사용되는 주기적인 신호이다.
- 기능 : 데이터가 전송되지 않을 때 이 신호가 흐르며, 연결의 무결성과 기기의 활성 상태를 보장한다.
- 목적 : 케이블의 단선, 기기의 고장 등의 문제를 빠르게 감지하여 연결의 안정성을 유지하는 것. 링크 펄스가 감지되지 않으면, 연결에 문제가 있을 수 있음을 나타낸다.
- 표시 : 대부분의 이더넷 기기에 포함된 초록색 LED는 링크 펄스의 존재 여부에 따라 점멸 또는 켜짐 상태를 표시하므로, 이를 통해 연결 상태와 기기의 동작 상태를 확인할 수 있다.
- 대부분의 이더넷 기기에는 연결 상태를 표시하는 초록색 LED 등이 포함되어 있어, 이를 통해 사용자가 연결 상태를 쉽게 확인할 수 있다.

#### 자동 조정 기능의 동작 방식
- 초기 트위스트 페어 케이블 기반의 이더넷은 링크 펄스를 일정 간격으로 전송하는 규정만 있었으나, 후에는 특정 패턴의 링크 펄스를 통해 기기 간의 정보를 공유하는 방법이 도입되었다.
- 자동 조정 기능은 이 패턴을 활용하여 상대방 기기의 지원 속도와 모드를 감지한다. 그리고 이를 기반으로 두 기기 간의 최적의 연결 설정을 결정한다.


### 3.2.6. 스위칭 허브는 복수의 중계 동작을 동시에 실행한다
- 스위칭 허브는 패킷의 수신처 MAC 주소를 기반으로 해당 주소가 어떤 포트에 연결되어 있는지 판단한다.
    - 이를 통해 패킷이 목적지 포트로만 전송되며, 다른 포트들은 빈 상태를 유지한다.
- 예를 들어, 맨 위 포트와 맨 아래 포트에 패킷이 전송되고 있을 때, 다른 포트들은 비어있게 되는데 이 빈 포트들은 다른 패킷들을 동시에 처리할 수 있어 스위칭 허브는 동시에 여러 패킷을 중계할 수 있다.
- 반면에 리피터 허브는 모든 포트로 동일한 신호를 브로드캐스트한다. 따라서 동시에 두 개 이상의 패킷이 전송되면 패킷들이 충돌한다. 이로 인해 리피터 허브에서는 한 번에 하나의 통신만이 가능하다.
- 정리 : 스위칭 허브의 이러한 동작 원리 덕분에 네트워크의 전체 대역폭을 효율적으로 활용할 수 있다.


---

# 참고자료
[Vol.74 통신 속도가 오르지 않을 때는 LAN 케이블의 카테고리를 바꾸어 보자](https://www2.elecom.co.jp.k.gj.hp.transer.com/network/wireless-lan/column/wifi_column/00074/)